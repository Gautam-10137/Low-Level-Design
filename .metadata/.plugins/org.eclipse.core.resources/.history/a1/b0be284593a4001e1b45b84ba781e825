import Model.Board;
import Model.Player;
import java.util.Deque;
import java.util.LinkedList;
import Model.PlayingPieceX;
import Model.PlayingPieceO;
import Model.PlayingPiece;
import java.util.Scanner;
import java.util.List;
import Model.Pair;
public class TicTacToeGame {

	 Board gameBoard;
	 Deque <Player> players;
	 
	 TicTacToeGame(){
		 initializeGame();
	 }
	
	 public void initializeGame() {
		 players=new LinkedList<>();
		 PlayingPieceX crossPiece=new PlayingPieceX();
		 Player player1=new Player("Gautam",crossPiece);
		 
		 PlayingPieceO noughtPiece= new PlayingPieceO();
		 Player player2= new Player("Punit",noughtPiece);
		 
		 players.add(player1);
		 players.add(player2);
		 
		 gameBoard=new Board(3);
	 }
	 
	 public String startGame() {
		 boolean noWinner=true;
		 while(noWinner) {
			 gameBoard.printBoard();
	
			 List<Pair<Integer,Integer>> freeCells=gameBoard.getFreeCells();
			 if(freeCells.isEmpty()) {
				 noWinner=false;
				 continue;
			 }
			 Player playerTurn=players.removeFirst();
			 
			 System.out.println("Turn for player:"+playerTurn.getName());
			 System.out.println("Enter position for:"+playerTurn.getPlayingPiece());
			 Scanner scanner= new Scanner(System.in);
			 String position= scanner.nextLine();
			 String[] values=position.split(",");
			 int inputRow=Integer.valueOf(values[0]);
			 int inputCol=Integer.valueOf(values[1]);
			 
			 boolean pieceAddedSuccessfully= gameBoard.addPiece(inputRow, inputCol, player.playingPiece);
			 
			 if(pieceAddedSuccessfully==false) {
				 System.out.println("Incorrect position chosen, try again");
				 players.addFirst(player);
				 continue;
			 }
			 players.addLast(player);
			 
			 boolean isWinner= checkWin(int)
			 
			 
		 }
		 
		 return "";
	 }
}
